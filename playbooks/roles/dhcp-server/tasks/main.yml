---
- docker_service:
    project_name: dhcpd
    definition:
      version: "3.3"
      services:
        isc:
          image: sirferdek/isc-dhcp-server
          volumes:
           - "{{dhcp_conf}}:/etc/dhcp/dhcpd.conf"
          networks:
            macvlan:
              ipv4_address: "{{dhcp_address}}"
      networks:
        macvlan:        
          attachable: true
          driver: macvlan
          driver_opts:
            parent: "{{internet_iface}}"
          ipam:
            config:
            - subnet: "{{internet_mask}}"
    state: present